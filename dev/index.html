<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DataAugmentation.jl · DataAugmentation.jl</title><meta name="title" content="DataAugmentation.jl · DataAugmentation.jl"/><meta property="og:title" content="DataAugmentation.jl · DataAugmentation.jl"/><meta property="twitter:title" content="DataAugmentation.jl · DataAugmentation.jl"/><meta name="description" content="Documentation for DataAugmentation.jl."/><meta property="og:description" content="Documentation for DataAugmentation.jl."/><meta property="twitter:description" content="Documentation for DataAugmentation.jl."/><meta property="og:url" content="https://fluxml.ai/DataAugmentation.jl/stable/"/><meta property="twitter:url" content="https://fluxml.ai/DataAugmentation.jl/stable/"/><link rel="canonical" href="https://fluxml.ai/DataAugmentation.jl/stable/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/flux.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>DataAugmentation.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>DataAugmentation.jl</a><ul class="internal"><li><a class="tocitem" href="#Requirements"><span>Requirements</span></a></li></ul></li><li><a class="tocitem" href="quickstart/">Quickstart</a></li><li><a class="tocitem" href="transformations/">Transformations</a></li><li><span class="tocitem">Build your transformations</span><ul><li><a class="tocitem" href="iteminterface/">Item Interface</a></li><li><a class="tocitem" href="tfminterface/">Transform Interface</a></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Projective Interface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="projective/intro/">Intro</a></li><li><a class="tocitem" href="projective/data/">Data</a></li><li><a class="tocitem" href="projective/gallery/">Gallery</a></li></ul></li></ul></li><li><span class="tocitem">Misc</span><ul><li><a class="tocitem" href="buffering/">Buffering</a></li><li><a class="tocitem" href="preprocessing/">Preprocessing</a></li><li><a class="tocitem" href="ref/">References</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>DataAugmentation.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>DataAugmentation.jl</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/FluxML/DataAugmentation.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/FluxML/DataAugmentation.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="DataAugmentation.jl"><a class="docs-heading-anchor" href="#DataAugmentation.jl">DataAugmentation.jl</a><a id="DataAugmentation.jl-1"></a><a class="docs-heading-anchor-permalink" href="#DataAugmentation.jl" title="Permalink"></a></h1><p>This library provides data transformations for machine and deep learning. At the moment, it focuses on spatial data (think images, keypoint data and masks), but that is owed only to my current work. The extensible abstractions should fit other domains as well.</p><p>For the most part, the transformations themselves are not very complex. The challenge this library tackles is to reconcile an easy-to-use, composable interface with performant execution.</p><p>The key abstractions are <code>Transform</code>s, the transformation to apply, and <code>Item</code>s which contain the data to be transformed. <a href="ref/#DataAugmentation.apply"><code>apply</code></a><code>(tfm, item)</code>, as the name gives away, applies a transformation to an item.  For example, given an <a href="ref/#DataAugmentation.Image"><code>Image</code></a> item, we can resize it with the <a href="ref/#DataAugmentation.CenterResizeCrop"><code>CenterResizeCrop</code></a> transformation.</p><pre><code class="language-julia hljs">item = Image(image)
tfm = CenterResizeCrop((128, 128))
apply(tfm, item)</code></pre><h2 id="Requirements"><a class="docs-heading-anchor" href="#Requirements">Requirements</a><a id="Requirements-1"></a><a class="docs-heading-anchor-permalink" href="#Requirements" title="Permalink"></a></h2><p>The above example is simple, but there are more requirements of data augmentation pipelines that this library adresses. They serve as a motivation to the interface I&#39;ve arrived at for defining transformations.</p><h3 id="Stochasticity"><a class="docs-heading-anchor" href="#Stochasticity">Stochasticity</a><a id="Stochasticity-1"></a><a class="docs-heading-anchor-permalink" href="#Stochasticity" title="Permalink"></a></h3><p>A transformation is stochastic (as opposed to deterministic) if it produces different outputs based on some random state. This randomness can become a problem when applying an transformation to an aligned pair of input and target. If we have an image and a corresponding segmentation mask, using different scaling factors results in misalignment of the two; the segmentation no longer matches up with the image pixels.</p><p>To handle this, the random state is explicitly passed to the transformations, rendering them deterministic. A generator for the random state can be defined with <a href="ref/#DataAugmentation.getrandstate"><code>DataAugmentation.getrandstate</code></a><code>(tfm)</code> and passed to <code>apply</code> with the <code>randstate</code> keyword argument.</p><h3 id="Composition"><a class="docs-heading-anchor" href="#Composition">Composition</a><a id="Composition-1"></a><a class="docs-heading-anchor-permalink" href="#Composition" title="Permalink"></a></h3><p>Most data augmentation pipelines are made up of multiple steps: augmenting an image can mean resizing, randomly rotating, cropping and then normalizing the values. So applying transformations one after another – sequencing – is one way to compose transformations. But some operations, like affine transformations, can also be <em>fused</em>, resulting in a single transformation that is more performant and produces more accurate results.</p><h3 id="Buffering"><a class="docs-heading-anchor" href="#Buffering">Buffering</a><a id="Buffering-1"></a><a class="docs-heading-anchor-permalink" href="#Buffering" title="Permalink"></a></h3><p>Since data augmentation pipelines often run on large amounts of data, performance can often be improved by using prealloacted output buffers for the transformations. This results in fewer memory allocations and less garbage collection which both take time. </p><hr/><p>Let&#39;s next see how these requirements are reflected in the <a href="iteminterface/">item</a> and <a href="tfminterface/">transformation</a> interfaces.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="quickstart/">Quickstart »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Wednesday 4 September 2024 20:40">Wednesday 4 September 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
